<!DOCTYPE html>
<html>
<head>
	<link rel="stylesheet" href="css.css">
	<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
    <script src="Chart.bundle.js"></script>
	<script src="Chart.bundle.min.js"></script>
	<script src="https://d3js.org/d3.v5.js"></script>
	<script type="text/javascript" src="js.js"></script>
	<title>Hearing test</title>
</head>
<body>
	<div id="startscreen" class="visible">
        <div id="intro" style="height=100%">
            <div class="navbar">
                <div id='navbar-topcenter' class="centered title"> Temporal Resolution Hearing Test
                </div>
                <div id='navbar-topright' class="centered navbartextspace">
                    <h6 class="centered navbartext" style="float:left;"> 
                    by Harold Groenenboom 
                    &amp; 
                    Nick Verbeek
                    </h6> 
                    <div class="vl" style="float:left;background-color:black;"> </div>
                    <h6 class="centered navbartext" style="float:left">
                        in collaboration with: 
                        University of the Arts Utrecht 
                        &amp; 
                        Golden Hearing LUMC. 
                    </h6>
                </div>
                <div id='navbar-topleft' class="" style="left:1px; width:19vw">
                    <h6 class=" navbartext" style="float:left;"> 
                    v 1.2.1
                    </h6> 
                </div>
            </div>
            <div class="maininhoud">
                <p>This test will test your <i>temporal resolution</i><br>
        Instrument notes will be played in a rapid succesion and you have to answer how well you can distinguish these individual notes.<br>
        Eventually you will get an indication on how well you can distinguish sound on different playback frequency.<br><br>

        Happy testing!<br><br>

        Notes:
        This test is experimental and is still under development.<br>
        For scientificly confirmed indication of temporal hearing loss we recommend using a <i>GAP detection</i>.<br>
        The outcomes of this test will be used to see if test in regular listening enviroments can add value to the already clinical tests.<br><br></p>
            </div>
        </div>
        <div id="startscreen_dynamicText" style="top:80%; height:20%;">Please wait till all sounds have been loaded
        </div>
	</div>
    <div id="calibration" class="invisible" >
        <p class="centered">Calibration:<br> You will hear a sound of someone rubbing their hands before their nose. <br>
        please rub your hands before your nose and adjust the volume inside your headphones so that both volumes match.<br> <br> </p> 
        <div class="centered" style="top:25%;height:55%;">
            <div class="range-slider">
            	<input class="range-slider__range" type="range" id="volume" min="0" max="2" value="1" list="gain-vals" step="0.01" data-action="volume">	
            </div>
            <button id="calib_button" type="button" class="button" onclick="calibrationAudio.togglePlayback(this,3);">Play</button>
            <button type="button" class="button" onclick="stateSwitch('calib')">Continue</button>
        </div>
    </div>
	<div id="likert" class="invisible likert centered">
		<div>
			<p>How well can you distinguish the individual notes of the played instrument? </p>
			<div id="likertbuttons" style="display:contents;">
				<button id="likert_0_button" type="button" class="button buttonOff" onclick="likertButtonClicked(this, 0)">Not at all</button>
				<button id="likert_1_button" type="button" class="button buttonOff" onclick="likertButtonClicked(this, 1)">Poor</button>
				<button id="likert_2_button" type="button" class="button buttonOff" onclick="likertButtonClicked(this, 2)">Neutral</button>
				<button id="likert_3_button" type="button" class="button buttonOff" onclick="likertButtonClicked(this, 3)">Decent</button>
				<button id="likert_4_button" type="button" class="button buttonOff" onclick="likertButtonClicked(this, 4)">Very good</button>
			</div>
			<div style="display:block;margin-top:40px;">
				<!-- <button id="next_file_button" type="button" onclick="nextTest();" disabled="disabled"">Next sound</button> -->
				<button id="play_sound_button" type="button" class="button" onclick="instrument.togglePlayback(buffers, 3, true);ambience.togglePlayback(buffers, 3, true)">Stop sound</button>
				
				<audio id="likert_audio_control" class="invisible">
				Your browser does not support the audio element.
				</audio> 
				
				<!-- <button id="show_results" type="button" onclick="stateSwitch('show results')">Show results</button> -->
			</div>
		</div>
	</div>
	<div id="results" class="invisible results">
		<div>
			<text id="how_to_change_text_in_html" class="topleftinbox invisible"></text>
			<div id="results_table" class="toprightinbox invisible">
			</div>
		</div>
        <canvas id="myChart" width="200" height="100" class="absolute">
			<p>Hello Fallback World</p>
		</canvas>
	</div>
</body>
</html>