<!DOCTYPE html>
<html>
<head>
	<link rel="stylesheet" href="css.css">
	<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
    <script src="Chart.bundle.js"></script>
	<script src="Chart.bundle.min.js"></script>
	<script src="https://d3js.org/d3.v5.js"></script>
	<script type="text/javascript" src="js.js"></script>
	<title>Hearing test</title>
</head>
<body>
	v 1.2
	<div id="startscreen" class="visible centered" onclick="stateSwitch(this)">
        <div id="intro" style="top:0%;height=40%">   
            <h1 class="centered" style="font-size:40px;"> Welcome to the HKU and LUMC hearing test. </h1>
            <p style="font-size:20px;">This test will test your <i>temporal resolution</i><br>
    Instrument notes will be played in a rapid succesion and you have to answer how well you can distinguish these individual notes.<br>
    Eventually you will get an indication on how well you can distinguish sound on different playback frequency.<br><br>

    Happy testing!<br><br>

    Notes:
    This test is experimental and is still under development.<br>
    For scientificly confirmed indication of temporal hearing loss we recommend using a <i>GAP detection</i>.<br>
    The outcomes of this test will be used to see if test in regular listening enviroments can add value to the already clinical tests.<br><br></p>
        </div>
        <div id="startscreen_dynamicText" style="top:60%; height:40%;">
		Click space to continue
        </div>
	</div>
    <div id="calibration" class="invisible centered" >
        Calibration
        <button id="calib_button" type="button" onclick="calibrationAudio.togglePlayback(3);">Play</button>
    </div>
	<div id="likert" class="invisible likert centered">
		<div>
			<p>How well can you distinguish the individual notes of the played instrument? </p>
			<div id="likertbuttons" style="top:100px,height=300px,position=relative">
				<button id="likert_0_button" type="button" class="button buttonOff" onclick="likertButtonClicked(this, 0)">Not at all</button>
				<button id="likert_1_button" type="button" class="button buttonOff" onclick="likertButtonClicked(this, 1)">Poor</button>
				<button id="likert_2_button" type="button" class="button buttonOff" onclick="likertButtonClicked(this, 2)">Neutral</button>
				<button id="likert_3_button" type="button" class="button buttonOff" onclick="likertButtonClicked(this, 3)">Decent</button>
				<button id="likert_4_button" type="button" class="button buttonOff" onclick="likertButtonClicked(this, 4)">Very good</button>
			</div>
			
			<div class="bottomhalf">
				<!-- <button id="next_file_button" type="button" onclick="nextTest();" disabled="disabled"">Next sound</button> -->
				<button id="play_sound_button" type="button" class="button" onclick="instrument.togglePlayback(buffers, 3, true);ambience.togglePlayback(buffers, 3, true)">Stop sound</button>
				
				<audio id="likert_audio_control" class="invisible">
				Your browser does not support the audio element.
				</audio> 
				
				<input type="range" id="volume" class="control-volume" min="0" max="2" value="1" list="gain-vals" step="0.01" data-action="volume" />
				
				<!-- <button id="show_results" type="button" onclick="stateSwitch('show results')">Show results</button> -->
			</div>
		</div>
	</div>
	<div id="results" class="invisible results">
		<div>
			<text id="how_to_change_text_in_html" class="topleftinbox invisible"></text>
			<div id="results_table" class="toprightinbox invisible">
			</div>
		</div>
        <canvas id="myChart" width="200" height="100" class="absolute">
			<p>Hello Fallback World</p>
		</canvas>
	</div>
</body>
</html>